<odoo>
  <data>
    <!-- explicit list view definition -->

    <record model="ir.ui.view" id="view_git_organization_tree">
      <field name="model">git.organization</field>
      <field name="name">git.organization.tree</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="service"/>
          <field name="repository_count" optional="show"/>
          <field name="branch_count" optional="show"/>
          <field name="custom_addons_count" optional="show"/>
          <field name="last_sync_date" widget="datetime" optional="show"/>
          <field name="auth_method" optional="hide"/>
          <field name="is_synchronized" widget="toggle_button" options='{"active": "Synchronized", "inactive": "Not synchronized"}' nolabel="1" optional="show"/>
        </tree>
      </field>
    </record>


    <record id="view_git_organization_form" model="ir.ui.view">
        <field name="model">git.organization</field>
        <field name="name">git.organization.form</field>
        <field name="arch" type="xml">
            <form string="Git Organization">
                <header>
                    <button
                        name="action_sync"
                        type="object"
                        string="Repositories Sync."
                        class="btn btn-primary"
                        attrs="{'invisible': [('is_synchronized', '!=', True)]}"
                        groups="catalog.group_manager"/>
                </header>
                <sheet>
                    <!-- Invisible fields -->
                    <field name="repository_count" invisible="1"/>
                    <field name="custom_addons_count" invisible="1"/>
                    <field name="branch_count" invisible="1"/>

                    <div class="oe_button_box" name="button_box">
                        <button
                            type="object"
                            name="action_view_git_repository"
                            class="oe_stat_button"
                            icon="fa-folder-o">
                            <div class="o_stat_info">
                                <field name="repository_count" class="o_stat_value" />
                                <span> Repositories</span>
                            </div>
                        </button>
                        <button
                            type="object"
                            name="action_view_git_branch"
                            class="oe_stat_button"
                            icon="fa-code-fork">
                            <div class="o_stat_info">
                                <field name="branch_count" class="o_stat_value" />
                                <span> Branches</span>
                            </div>
                        </button>
                        <button
                            type="object"
                            name="action_view_custom_addons"
                            class="oe_stat_button"
                            icon="fa-cube">
                            <div class="o_stat_info">
                                <field name="custom_addons_count" class="o_stat_value" />
                                <span> Addons</span>
                            </div>
                        </button>
                    </div>



                    <div class="oe_title">
                        <h1>
                            <field name="name" />
                        </h1>
                        <h3 class="oe_fade">
                            <field name="service" class="oe_inline" />
                        </h3>
                    </div>
                    <!-- <div class="oe_clear" /> -->

                    <group>
                      <group col="2">
                        <field name="url" widget="url"/>
                        <field name="auth_method" string="Method" widget="selection_badge"/>
                        <field name="auth_id" string="Auth"
                            groups="catalog.group_manager"
                            options="{'no_create_edit': True, 'no_open': True}"
                            attrs="{'required': [('auth_method', '=', 'private')], 'invisible': [('auth_method', '!=', 'private')]}"/>
                        <field name="is_user" widget="boolean_toggle"/>
                        <field name="is_synchronized" widget="boolean_toggle"/>
                      </group>
                      <group col="2">
                        <field name="last_sync_date" widget="datetime"/>
                        <field name="partner_id" help="If defined, partner will be apply on repository."/>
                        <field name="force_partner" widget="boolean_toggle"/>
                      </group>
                    </group>
                    <notebook>
                        <page name="extra_setting" string="Settings">
                            <group cols="4" string="Ignored Repositories">
                                <field
                                    name="exclude_names"
                                    colspan="4"
                                    nolabel="1"
                                />
                            </group>
                        </page>
                        <page name="note" string="Notes">
                            <field name="note" widget="html" nolabel="1"/>
                        </page>
                    </notebook>
                </sheet>
                <div class="o_attachment_preview"/>
                <div class="oe_chatter">
                    <field name="message_follower_ids" groups="base.group_user"/>
                    <field name="activity_ids"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <record id="view_git_organization_kanban" model="ir.ui.view">
        <field name="name">Git Organization</field>
        <field name="model">git.organization</field>
        <field name="arch" type="xml">
            <kanban class="oe_background_grey o_kanban_dashboard o_project_kanban o_emphasize_colors">
            <field name="name"/>
            <field name="service"/>
            <!-- <field name="color"/> -->
            <!-- <field name="description"/> -->
            <field name="partner_id"/>
            <!-- <field name="tag_ids"/> -->
            <!-- <field name="branch_ids"/> -->
            <field name="last_sync_date"/>
            <field name="url"/>
            <field name="branch_count"/>
            <field name="repository_count"/>
            <field name="branch_count"/>
            <field name="custom_addons_count"/>
            <field name="is_synchronized"/>
            <!-- <field name="is_favorite"/> -->
            <field name="message_needaction_counter"/>
                <templates>
                    <t t-name="kanban-box">
                        <div t-attf-class="oe_kanban_global_click o_has_icon">
                            <div class="o_project_kanban_main">
                                <div class="o_kanban_card_content">
                                    <div class="o_kanban_primary_left">
                                        <div class="o_primary">
                                            <span><t t-esc="record.name.value"/></span>
                                            <span t-if="record.url.value">
                                                <strong><t t-esc="record.url.value"/></strong>
                                            </span>
                                            <span t-if="record.partner_id.value">
                                                <t t-esc="record.partner_id.value"/>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <a class="o_project_kanban_box" name="action_view_git_repository" type="object">
                                        <span class="badge">
                                            <i class="fa fa-fw fa-cube" />
                                            <t t-esc="record.repository_count.value" />
                                        </span>
                                    </a>
                                    <a class="o_project_kanban_box" name="action_view_git_branch" type="object">
                                        <span class="badge">
                                            <i class="fa fa-fw fa-cube" />
                                            <t t-esc="record.branch_count.value" />
                                        </span>
                                    </a>
                                    <a class="o_project_kanban_box" name="action_view_custom_addons" type="object">
                                        <span class="badge">
                                            <i class="fa fa-fw fa-cube" />
                                            <t t-esc="record.custom_addons_count.value" />
                                        </span>
                                    </a>
                                </div>
                                <!-- <div class="oe_kanban_bottom_right" name="studio_div_9d19b4">
                                    <img t-if="record.partner_id.raw_value" t-att-src="kanban_image('res.partner', 'image_128', record.partner_id.raw_value)" t-att-title="record.partner_id.value" t-att-alt="record.partner_id.value" class="oe_kanban_avatar o_image_24_cover float-right"/>
                                </div> -->
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- <record model="ir.ui.view" id="view_git_organization_graph">
      <field name="model">git.organization</field>
      <field name="name">git.organization.graph</field>
      <field name="arch" type="xml">
        <graph string="Git Organization" type="bar" sample="1" stacked="False" disable_linking="1">
            <field name="name"/>
            <field name="service"/>
            <field name="repository_count" type='measure'/>
            <field name="branch_count" type='measure'/>
            <field name="custom_addons_count" type='measure'/>
        </graph>

      </field>
    </record> -->

  </data>
</odoo>